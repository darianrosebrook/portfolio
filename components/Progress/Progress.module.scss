/**
 * Progress Component Styles
 *
 * Uses CSS custom properties from design tokens for flexible theming
 * Supports BYODS (Bring Your Own Design System) patterns
 */

.progressWrapper {
  display: flex;
  flex-direction: column;
  gap: var(--progress-spacing-gap, 8px);
  width: 100%;
}

.progressHeader {
  display: flex;
  gap: var(--progress-spacing-gap, 8px);
  justify-content: space-between;
  align-items: center;
}

.progressLabel {
  color: var(--progress-color-text-default, #374151);
  font-weight: var(--progress-typography-fontWeight, 500);
  font-size: var(--progress-size-linear-medium-fontSize, 14px);
  font-family: var(--progress-typography-fontFamily, Inter, sans-serif);
  line-height: var(--progress-typography-lineHeight, 1.2);
  letter-spacing: var(--progress-typography-letterSpacing, 0);
}

.progressValue {
  color: var(--progress-color-text-muted, #6b7280);
  font-weight: var(--progress-typography-fontWeight, 500);
  font-size: var(--progress-size-linear-medium-fontSize, 14px);
  font-family: var(--progress-typography-fontFamily, Inter, sans-serif);
  line-height: var(--progress-typography-lineHeight, 1.2);
  letter-spacing: var(--progress-typography-letterSpacing, 0);
  white-space: nowrap;
}

// Linear Progress Styles
.linearProgress {
  position: relative;
  overflow: hidden;
  width: 100%;
  height: var(--progress-size-linear-medium-height, 8px);

  // Size variants
  &--small {
    height: var(--progress-size-linear-small-height, 4px);

    .progressLabel,
    .progressValue {
      font-size: var(--progress-size-linear-small-fontSize, 12px);
    }
  }

  &--medium {
    height: var(--progress-size-linear-medium-height, 8px);

    .progressLabel,
    .progressValue {
      font-size: var(--progress-size-linear-medium-fontSize, 14px);
    }
  }

  &--large {
    height: var(--progress-size-linear-large-height, 12px);

    .progressLabel,
    .progressValue {
      font-size: var(--progress-size-linear-large-fontSize, 16px);
    }
  }

  // Indeterminate animation
  &--indeterminate {
    .linearProgressFill {
      width: 40% !important;
      animation: linearProgressIndeterminate
        var(--progress-indeterminate-animation-duration, 1.5s)
        var(--progress-indeterminate-animation-easing, ease-in-out) infinite;
    }
  }

  // Animated transitions
  &--animated {
    .linearProgressFill {
      transition: var(--progress-transition-properties, width)
        var(--progress-transition-duration, 0.3s)
        var(--progress-transition-easing, ease-in-out);
    }
  }

  // Striped pattern
  &--striped {
    .linearProgressFill {
      background-image: linear-gradient(
        45deg,
        rgb(255 255 255 / 15%) 25%,
        transparent 25%,
        transparent 50%,
        rgb(255 255 255 / 15%) 50%,
        rgb(255 255 255 / 15%) 75%,
        transparent 75%,
        transparent
      );
      background-size: 16px 16px;
    }
  }

  // Animated stripes
  &--stripedAnimated {
    .linearProgressFill {
      animation: linearProgressStripes 1s linear infinite;
    }
  }
}

.linearProgressTrack {
  position: relative;
  overflow: hidden;
  width: 100%;
  height: 100%;
  background-color: var(--progress-color-track-default, #e5e7eb);
  border-radius: var(--progress-border-radius, 1920px);

  // Variant colors
  .linearProgress--success & {
    background-color: var(--progress-color-track-success, #dcfce7);
  }

  .linearProgress--warning & {
    background-color: var(--progress-color-track-warning, #fef3c7);
  }

  .linearProgress--danger & {
    background-color: var(--progress-color-track-danger, #fee2e2);
  }

  .linearProgress--info & {
    background-color: var(--progress-color-track-info, #dbeafe);
  }
}

.linearProgressFill {
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  background-color: var(--progress-color-fill-default, #6b7280);
  border-radius: var(--progress-border-radius, 1920px);

  // Variant colors
  .linearProgress--success & {
    background-color: var(--progress-color-fill-success, #22c55e);
  }

  .linearProgress--warning & {
    background-color: var(--progress-color-fill-warning, #f59e0b);
  }

  .linearProgress--danger & {
    background-color: var(--progress-color-fill-danger, #ef4444);
  }

  .linearProgress--info & {
    background-color: var(--progress-color-fill-info, #3b82f6);
  }
}

// Circular Progress Styles
.circularProgress {
  position: relative;
  display: inline-flex;
  justify-content: center;
  align-items: center;

  // Indeterminate animation
  &--indeterminate {
    .circularProgressFill {
      animation: circularProgressIndeterminate
        var(--progress-indeterminate-animation-duration, 1.5s) linear infinite;
    }
  }

  // Animated transitions
  &--animated {
    .circularProgressFill {
      transition: var(--progress-transition-properties, stroke-dashoffset)
        var(--progress-transition-duration, 0.3s)
        var(--progress-transition-easing, ease-in-out);
    }
  }
}

.circularProgressSvg {
  transform: rotate(-90deg);
}

.circularProgressTrack {
  stroke: var(--progress-color-track-default, #e5e7eb);

  // Variant colors
  .circularProgress--success & {
    stroke: var(--progress-color-track-success, #dcfce7);
  }

  .circularProgress--warning & {
    stroke: var(--progress-color-track-warning, #fef3c7);
  }

  .circularProgress--danger & {
    stroke: var(--progress-color-track-danger, #fee2e2);
  }

  .circularProgress--info & {
    stroke: var(--progress-color-track-info, #dbeafe);
  }
}

.circularProgressFill {
  stroke: var(--progress-color-fill-default, #6b7280);
  stroke-linecap: round;

  // Variant colors
  .circularProgress--success & {
    stroke: var(--progress-color-fill-success, #22c55e);
  }

  .circularProgress--warning & {
    stroke: var(--progress-color-fill-warning, #f59e0b);
  }

  .circularProgress--danger & {
    stroke: var(--progress-color-fill-danger, #ef4444);
  }

  .circularProgress--info & {
    stroke: var(--progress-color-fill-info, #3b82f6);
  }
}

.circularProgressCenter {
  position: absolute;
  top: 50%;
  left: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  transform: translate(-50%, -50%);

  .progressValue {
    color: var(--progress-color-text-default, #374151);
    font-weight: 600;
    font-size: var(--progress-size-circular-medium-fontSize, 12px);
  }

  // Size variants
  .circularProgress--small & .progressValue {
    font-size: var(--progress-size-circular-small-fontSize, 10px);
  }

  .circularProgress--large & .progressValue {
    font-size: var(--progress-size-circular-large-fontSize, 14px);
  }
}

// Animations
@keyframes linearProgressIndeterminate {
  0% {
    left: -40%;
  }

  100% {
    left: 100%;
  }
}

@keyframes linearProgressStripes {
  0% {
    background-position: 0 0;
  }

  100% {
    background-position: 16px 0;
  }
}

@keyframes circularProgressIndeterminate {
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
}

// Progress group styling for multiple progress bars
.progressWrapper + .progressWrapper {
  margin-top: calc(var(--progress-spacing-gap, 8px) * 2);
}

// High contrast mode support
@media (prefers-contrast: high) {
  .linearProgressTrack,
  .circularProgressTrack {
    border-width: 2px;
    stroke-width: 2px;
  }

  .linearProgressFill,
  .circularProgressFill {
    stroke-width: 2px;
  }
}

// Reduced motion support
@media (prefers-reduced-motion: reduce) {
  .linearProgress--animated .linearProgressFill,
  .circularProgress--animated .circularProgressFill {
    transition: none;
  }

  .linearProgress--indeterminate .linearProgressFill,
  .circularProgress--indeterminate .circularProgressFill,
  .linearProgress--stripedAnimated .linearProgressFill {
    animation: none;
  }
}
