/**
 * Modal Component Styles
 *
 * Uses CSS custom properties from design tokens for flexible theming
 * Supports BYODS (Bring Your Own Design System) patterns
 */

.modalOverlay {
  position: fixed;
  top: 0;
  left: 0;
  z-index: var(--modal-zIndex-overlay, 1000);
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100vw;
  height: 100vh;
  padding: var(--modal-spacing-margin, 16px);
  background-color: var(--modal-color-overlay-background, rgb(0 0 0 / 50%));
  animation: modalOverlayFadeIn var(--modal-animation-duration, 0.3s)
    var(--modal-animation-easing, cubic-bezier(0.4, 0, 0.2, 1));
}

.modalContainer {
  position: relative;
  z-index: var(--modal-zIndex-modal, 1001);
  display: flex;
  flex-direction: column;
  overflow: hidden;
  max-width: var(--modal-size-medium-maxWidth, 90vw);
  max-height: var(--modal-size-medium-maxHeight, 90vh);
  background-color: var(--modal-color-background-default, #fff);
  border: var(--modal-border-width, 1px) solid
    var(--modal-color-border-default, #e5e7eb);
  border-radius: var(--modal-border-radius, 8px);
  box-shadow: var(--modal-shadow, 0 25px 50px -12px rgb(0 0 0 / 25%));

  // Focus outline
  &:focus {
    outline: none;
  }

  // Size variants
  &--small {
    width: var(--modal-size-small-width, 400px);
    max-width: var(--modal-size-small-maxWidth, 90vw);
    max-height: var(--modal-size-small-maxHeight, 90vh);
  }

  &--medium {
    width: var(--modal-size-medium-width, 600px);
    max-width: var(--modal-size-medium-maxWidth, 90vw);
    max-height: var(--modal-size-medium-maxHeight, 90vh);
  }

  &--large {
    width: var(--modal-size-large-width, 800px);
    max-width: var(--modal-size-large-maxWidth, 95vw);
    max-height: var(--modal-size-large-maxHeight, 95vh);
  }

  &--fullscreen {
    width: var(--modal-size-fullscreen-width, 100vw);
    max-width: none;
    height: var(--modal-size-fullscreen-height, 100vh);
    max-height: none;
    border-radius: 0;
  }

  // Animation variants
  &--fade {
    animation: modalFadeIn var(--modal-animation-duration, 0.3s)
      var(--modal-animation-easing, cubic-bezier(0.4, 0, 0.2, 1));
  }

  &--scale {
    animation: modalScaleIn var(--modal-animation-duration, 0.3s)
      var(--modal-animation-easing, cubic-bezier(0.4, 0, 0.2, 1));
  }

  &--slide-up {
    animation: modalSlideUp var(--modal-animation-duration, 0.3s)
      var(--modal-animation-easing, cubic-bezier(0.4, 0, 0.2, 1));
  }

  &--slide-down {
    animation: modalSlideDown var(--modal-animation-duration, 0.3s)
      var(--modal-animation-easing, cubic-bezier(0.4, 0, 0.2, 1));
  }
}

.modalHeader {
  display: flex;
  flex-shrink: 0;
  gap: var(--modal-spacing-gap, 16px);
  justify-content: space-between;
  align-items: center;
  min-height: var(--modal-header-height, 64px);
  padding: var(--modal-header-padding, 20px 24px);
  background-color: var(--modal-color-header-background, #fff);
  border-bottom: var(--modal-border-width, 1px) solid
    var(--modal-color-header-border, #e5e7eb);
}

.modalHeaderContent {
  display: flex;
  flex: 1;
  gap: var(--modal-spacing-gap, 16px);
  align-items: center;
}

.modalTitle {
  margin: 0;
  color: var(--modal-color-header-foreground, #111827);
  font-weight: var(--modal-typography-title-fontWeight, 600);
  font-size: var(--modal-typography-title-fontSize, 20px);
  font-family: var(--modal-typography-fontFamily, Inter, sans-serif);
  line-height: var(--modal-typography-title-lineHeight, 1.3);
}

.modalBody {
  flex: 1;
  overflow-y: auto;
  padding: var(--modal-spacing-padding, 24px);
  color: var(--modal-color-foreground-default, #374151);
  font-weight: var(--modal-typography-body-fontWeight, 400);
  font-size: var(--modal-typography-body-fontSize, 16px);
  font-family: var(--modal-typography-fontFamily, Inter, sans-serif);
  line-height: var(--modal-typography-body-lineHeight, 1.5);

  // Custom scrollbar styling
  &::-webkit-scrollbar {
    width: 6px;
  }

  &::-webkit-scrollbar-track {
    background: transparent;
  }

  &::-webkit-scrollbar-thumb {
    background-color: rgb(0 0 0 / 20%);
    border-radius: 3px;
  }

  &::-webkit-scrollbar-thumb:hover {
    background-color: rgb(0 0 0 / 30%);
  }
}

.modalFooter {
  display: flex;
  flex-shrink: 0;
  gap: var(--modal-spacing-gap, 16px);
  justify-content: flex-end;
  align-items: center;
  min-height: var(--modal-footer-height, auto);
  padding: var(--modal-footer-padding, 16px 24px 24px);
  background-color: var(--modal-color-footer-background, #f9fafb);
  border-top: var(--modal-border-width, 1px) solid
    var(--modal-color-footer-border, #e5e7eb);
  color: var(--modal-color-footer-foreground, #374151);
}

.modalCloseButton {
  // Reset
  all: unset;

  // Layout
  display: flex;
  flex-shrink: 0;
  justify-content: center;
  align-items: center;
  box-sizing: border-box;
  width: var(--modal-close-size, 32px);
  height: var(--modal-close-size, 32px);
  padding: var(--modal-close-padding, 8px);

  // Visual styling
  background-color: var(--modal-color-close-background, transparent);
  border-radius: var(--modal-close-border-radius, 6px);
  color: var(--modal-color-close-foreground, #6b7280);

  // Animation
  transition:
    background-color var(--modal-animation-duration, 0.3s)
      var(--modal-animation-easing, cubic-bezier(0.4, 0, 0.2, 1)),
    color var(--modal-animation-duration, 0.3s)
      var(--modal-animation-easing, cubic-bezier(0.4, 0, 0.2, 1));
  cursor: pointer;

  // Hover state
  &:hover {
    background-color: var(--modal-color-close-background-hover, #f3f4f6);
    color: var(--modal-color-close-foreground-hover, #374151);
  }

  // Focus state
  &:focus {
    outline: 2px solid var(--modal-color-header-foreground, #111827);
    outline-offset: 2px;
  }

  // Active state
  &:active {
    transform: scale(0.95);
  }

  // Icon styling
  svg {
    width: 100%;
    height: 100%;
  }
}

// Animations
@keyframes modalOverlayFadeIn {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

@keyframes modalFadeIn {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

@keyframes modalScaleIn {
  from {
    opacity: 0;
    transform: scale(0.95);
  }

  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes modalSlideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes modalSlideDown {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

// Mobile responsive adjustments
@media (width <= 640px) {
  .modalOverlay {
    padding: var(--modal-spacing-gap, 16px);
  }

  .modalContainer {
    &--small,
    &--medium,
    &--large {
      width: 100%;
      max-width: none;
      max-height: calc(100vh - 32px);
    }
  }

  .modalHeader {
    padding: var(--modal-spacing-gap, 16px);
  }

  .modalBody {
    padding: var(--modal-spacing-gap, 16px);
  }

  .modalFooter {
    padding: var(--modal-spacing-gap, 16px);
  }

  .modalTitle {
    font-size: calc(var(--modal-typography-title-fontSize, 20px) * 0.9);
  }
}

// High contrast mode support
@media (prefers-contrast: high) {
  .modalContainer {
    border-width: 2px;
  }

  .modalHeader,
  .modalFooter {
    border-width: 2px;
  }

  .modalCloseButton:focus {
    outline-width: 3px;
  }
}

// Reduced motion support
@media (prefers-reduced-motion: reduce) {
  .modalOverlay,
  .modalContainer {
    animation: none;
  }

  .modalCloseButton {
    transition: none;

    &:active {
      transform: none;
    }
  }
}

// Dark mode support (if using CSS custom properties)
@media (prefers-color-scheme: dark) {
  .modalContainer {
    --modal-color-background-default: #1f2937;
    --modal-color-foreground-default: #f9fafb;
    --modal-color-border-default: #374151;
    --modal-color-header-background: #1f2937;
    --modal-color-header-foreground: #f9fafb;
    --modal-color-header-border: #374151;
    --modal-color-footer-background: #111827;
    --modal-color-footer-foreground: #f9fafb;
    --modal-color-footer-border: #374151;
    --modal-color-close-background-hover: #374151;
    --modal-color-close-foreground: #9ca3af;
    --modal-color-close-foreground-hover: #f9fafb;
  }
}
